% !TEX encoding = IsoLatin
% --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- %
%\begin{itemize}
%\item [-] \textbf{Création} : Demandée par un autre processus,  crée dans l'état prêt ou suspendu.
%\item [-] \textbf{Destruction} : peut être fait par le processus lui-même, un autre processus, le noyau. La destruction provoque une libération des ressources associées et un évènement.
%\item [-] \textbf{Blocage} : passage en mode bloqué en attente d'un évènement externe. Peut être demandé par le processus lui-même ou par le système.
%\item [-] \textbf{Déblocage} : passage en mode prêt après le mode bloqué lorsque l'événement attendu se produit.
%\item [-] \textbf{Activation} : passage en mode exécution d'un mode prêt.
%\end{itemize}

  
%\begin{Verbatim}[frame=single,fontsize=\scriptsize]
%\end{Verbatim}

%\begin{figure}[h]
%	\begin{center}
%		\includegraphics[width=14.5cm,height=9cm]{.\figures\diag_etat_threads.png}
%	\end{center}
%	\caption{Diagramme des différents états d'un thread avec les primitives}
%	\label{fig:diag_etat_threads}
%\end{figure}

%% Modele d'etat avec les matrices

%\begin{displaymath}
%\left\{ \begin{array}{l} \dot{x} \quad = \quad \left[ \begin{array}{cccc}
%0 & 1 & 0 & 1\\
%- \frac{K_s}{M_s} & - \frac{C_s}{M_s} & 0 & \frac{C_s}{M_s}\\
%0 & 0 & 0 & 1\\
%\frac{K_s}{M_u} & \frac{C_s}{M_u} & - \frac{K_t}{M_u} & - \frac{C_s}{M_u} - \frac{C_t}{M_u}
%
%\end{array}\right]  x \quad + \quad \left[ \begin{array}{cc}
%0 & 1.1972\\
%0 & - 0.0012\\
%0 & 0\\
%7.84 & - 4.05
%\end{array} \right] u\\ \\
%y \quad = \quad \left[ \begin{array}{cccc}
%1 & 0 & 0 & 0\\
%0 & \lambda & 0 & 0\\
%0 & 0 & \lambda & 0\\
%0 & 0 & 0 & \lambda\\
%0 & - \lambda & \lambda & 0
%\end{array} \right] x \quad + \quad \left[ \begin{array}{cc}
%0 & 0\\
%0 & 0\\
%0 & 0\\
%0 & 0\\
%0 & 0
%\end{array} \right] u \end{array}\right.
%\end{displaymath}\\

% --------------------------------------------------------------------------------------------------------------------------------------------------------------------------- %
\rhead{\footnotesize\rightmark}
\chapter{Modélisation du système}

		\section{Présentation du problème et notations utilisées}
		
			Dans ce bureau d'étude, nous considérons un système composé d'une \textbf{turbine génératrice de gaz} et d'une charge (par exemple, le rotor d'un hélicoptère ou un alternateur pour générer de l'électricité). \\
			
			La turbine se compose de plusieurs étages dans lesquels des processus thermodynamiques interviennent pour apporter de l'énergie à l'air ambiant et ainsi enclencher la rotation d'un arbre. Le premier étage consiste en la compression de l'air ambiant (et donc de sa température). Une partie de ces gaz participe alors à la combustion du carburant du second étage. Les gaz arrivent alors dans le troisième étage avec une très forte énergie potentielle, sont détendus (diminution de pression) et actionnent alors la rotation d'un axe mécanique. Les gaz possédant encore une très forte énergie, ils sont détendus une deuxième fois dans la \textbf{turbine libre} qui transforme cette énergie en énergie mécanique fournie sur l'axe de sortie. \\
			
			Les variables du problème qui nous intéressent sont : 
			
			\begin{itemize}
				\item $N_g$, la vitesse de rotation de l'arbre générateur de gaz.
				\textbf{\item $N_{tl}$, la vitesse de rotation de la turbine libre (grandeur à réguler).}
				\item $P_3$, la pression en sortie du compresseur.
				\item $T_{45}$, la température inter-turbine (avant d'être détendu dans la turbine libre).
			\textbf{	\item $W_f$, débit de carburant dans le second étage (grandeur de commande du problème). }\\ 
			\end{itemize}
			
			Intuitivement, on comprend que plus le débit de carburant $W_f$ est grand et plus la vitesse de rotation $N_{tl}$ de l'arbre de sortie sera grande. Les variables du problème sont toutes observables mais pas toutes commandables ($P_3$ et $T_{45}$ ne l'étant pas).\\ 
			
			L'objectif de ce bureau d'étude est donc d'assurer la \textbf{régulation de la vitesse de rotation en sortie $N_{tl}$}, en prenant en compte les charges mécaniques qui peuvent s'appliquer sur l'axe de sortie. 
			
		
			
		\section{Modélisation du système}
		
		Dans cette partie, nous allons modéliser l'ensemble du système turbine, qui sera décomposé en sous-systèmes dont les fonctions de transfert sont connues.
		
			\subsection{Doseur de carburant}
			
			Le doseur de carburant permet d'augmenter le débit de carburant $W_f$ circulant dans le second étage de la turbine. Le débit de consigne $W_f^*$ est envoyée à un moteur pas à pas actionnant le doseur. La dynamique du doseur a été identifiée par un système du premier ordre tel que  :
			
			\begin{align} \label{eq:doseur}
						t_{dos} \frac{dW_f}{dt} = -W_f + W_f^* \\
						T_{doseur}(s) = \frac{1}{1+t_{dos}s}
			\end{align}
			
			Ce sous-système est donc la première fonction de transfert que la consigne $W_f^*$ rencontre. La vitesse de variation de la consigne étant limitée par la dynamique du moteur du doseur, un limiteur \textit{slew-rate} est imposé sur la consigne.
			
			\subsection{Arbre générateur}
			
			L'arbre générateur de gaz est le coeur du système. C'est lui qui fait le lien entre le débit de carburant $W_f$ et la forcé mécanique nécessaire à la rotation de l'arbre de sortie. Ainsi, en notant : 
			
			\begin{itemize}
				\item $I_g$, l'inertie de l'arbre générateur.
				\item $C_c$, le couple résistant entraînant le compresseur.
				\item $C_{thp}$, le couple généré par la détente des gaz.
				\item $C_g$, le couple résultant tel que $C_g = C_{thp} - C_c$.
			\end{itemize}
			
			Nous avons, 
			
			\begin{equation}
					Ig \dot{N_g}(t) = C_{thp}(t) - C_c(t) = C_g(t)
			\end{equation}
			
			Plusieurs séries de données (fournies sous la forme de maillage - cf Fig. \ref{fig:maillages}) nous sont fournies pour calculer $C_g$, $T_{45}$ et $C_{tl}$ en fonction de $W_f$ et $N_g$. 
			
			\begin{figure} [H]
			\centering 
			\scalebox{0.6}{ \input{./figures/maillages.tikz} }
			\caption{Maillages des données fournies en fonction de $W_f$ et $N_g$} 
			\label{fig:maillages}
			\end{figure}
			
			Lorsque le couple résultant $C_g > 0$, l'arbre générateur est en phase d'accélération. De ce principe, on en déduit qu'en partant d'un état d'équilibre ($C_g = 0$) et en augmentant progressivement le débit de carburant, la vitesse de l'arbre $N_g$ va augmenter jusqu'à atteindre une nouvel état d'équilibre. L'équation dynamique de l'arbre générateur est donc non-linéaire : 
			
			\begin{equation}  \label{eq:cg}
			I_g\dot{N_g}(t) = C_g(W_f, N_g)	
			\end{equation}
			
						
	\subsection{Turbine libre}
	
		Les gaz issus du générateur sont détendus dans la turbine libre qui se chargera du transfert d'énergie mécanique vers l'arbre de sortie et donc la charge utile. Ainsi, en notant : 
			
			\begin{itemize}
				\item $I_{tot}$, l'inertie totale de la turbine libre (somme de son inertie propre et de l'inertie de la charge).
				\item $C_{tl}$, le couple moteur récupéré par la détente des gaz.
				\item $C_{charge}$, le couple résistant dû à la charge. 
			\end{itemize}
			
			Nous avons, 
			
			\begin{equation} \label{eq:ntl}
			I_{tot}\dot{N_{tl}}(t) = C_{tl}(W_f, N_g, N_{tl}) - C_{charge}
			\end{equation}
			
			En réalité, les données fournies ne nous donnent que $C_{tl}(W_f, N_g, N_{tl}^{nom}$ (c'est-à-dire le couple moteur autour du point de fonctionnement $N_{tl} = N_{tl}^{nom}$). L'équation dynamique de la turbine libre peut s'exprimer comme suit : 
			
			\begin{equation}
			I_{tot}\dot{N_{tl}}(t) = C_{tl}(W_f, N_g, N_{tl}^{nom}) + \frac{dC_{tl}}{dN_{tl}}(N_g)\Delta N_{tl} - C_{charge}
			\end{equation}
			
			Avec deux maillages, 2D et 3D décrits sur la figure \ref{fig:maillages2}. \\
			
			\begin{figure} [H]
			\centering 
			\scalebox{0.7}{ \input{./figures/maillages2.tikz} }
			\caption{Maillages de $C_{tl}$ et $\frac{dC_{tl}}{dN_{tl}}$ en fonction de $W_f$ et $N_g$} 
			\label{fig:maillages2}
			\end{figure}
			
			\newpage
			
			\vspace{3cm}
			Le schéma \texttt{Simulink} du système complet est alors (cf Fig. \ref{fig:sim_non_linaire_complet}) : 

	\begin{figure}[h]
		\begin{center}
			\includegraphics[scale=0.8]{./figures/sim_non_lineaire_complet.png}
		\end{center}
		\caption{Schéma \texttt{Simulink} du système turbine complet (non-linéaire)}
		\label{fig:sim_non_linaire_complet}
	\end{figure}
			
			
			
			
			
